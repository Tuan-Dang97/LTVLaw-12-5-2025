<!DOCTYPE html>
<html lang="vi">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta
            name="description"
            content="Bài viết xem nhiều - Những bài viết được quan tâm nhất về pháp luật và dịch vụ pháp lý"
        />
        <title>Bài viết xem nhiều - Luật LTV</title>
        <%- include("../partials/head.ejs") %>
        <link rel="stylesheet" href="../css/categories.css" />
    </head>
    <body>
        <%- include("../partials/header.ejs") %>

        <main class="category-page">
            <!-- Breadcrumb -->
            <section class="breadcrumb">
                <div class="container">
                    <nav aria-label="breadcrumb">
                        <ol class="breadcrumb-list">
                            <li><a href="/">Trang chủ</a></li>
                            <li><span>Bài viết xem nhiều</span></li>
                        </ol>
                    </nav>
                </div>
            </section>

            <!-- Category Header -->
            <section class="category-header">
                <div class="container">
                    <div class="category-hero">
                        <h1>Bài viết xem nhiều</h1>
                        <p class="category-description">
                            Tổng hợp những bài viết được quan tâm và đọc nhiều
                            nhất về các vấn đề pháp luật, thủ tục hành chính và
                            dịch vụ pháp lý.
                        </p>
                    </div>
                </div>
            </section>

            <!-- Featured Articles -->
            <section class="featured-section">
                <div class="container">
                    <h2 class="section-title">Bài viết nổi bật</h2>
                    <div class="featured-grid" id="featured-articles">
                        <!-- Sẽ được render bằng JavaScript -->
                    </div>
                </div>
            </section>

            <!-- All Articles Grid -->
            <section class="articles-section">
                <div class="container">
                    <div class="articles-layout">
                        <div class="articles-main">
                            <div class="section-header-with-filter">
                                <h2 class="section-title">Tất cả bài viết</h2>
                                <div class="articles-filter">
                                    <select
                                        id="sort-filter"
                                        class="filter-select"
                                    >
                                        <option value="popular">
                                            Phổ biến nhất
                                        </option>
                                        <option value="newest">Mới nhất</option>
                                        <option value="oldest">Cũ nhất</option>
                                    </select>
                                </div>
                            </div>

                            <div class="articles-grid" id="articles-list">
                                <!-- Sẽ được render bằng JavaScript -->
                            </div>

                            <!-- Pagination -->
                            <div class="pagination" id="pagination">
                                <!-- Sẽ được render bằng JavaScript -->
                            </div>
                        </div>

                        <!-- Sidebar -->
                        <aside class="articles-sidebar">
                            <div class="sidebar-widget">
                                <h3 class="widget-title">Danh mục phổ biến</h3>
                                <ul class="related-topics">
                                    <li>
                                        <a href="/categories/so-huu-tri-tue"
                                            >Sở hữu trí tuệ</a
                                        >
                                    </li>
                                    <li>
                                        <a
                                            href="/categories/phap-luat-doanh-nghiep"
                                            >Pháp luật doanh nghiệp</a
                                        >
                                    </li>
                                    <li>
                                        <a href="/categories/bai-viet-moi"
                                            >Bài viết mới</a
                                        >
                                    </li>
                                    <li>
                                        <a href="#thue-va-ke-toan"
                                            >Thuế và kế toán</a
                                        >
                                    </li>
                                    <li>
                                        <a href="#lao-dong-va-xa-hoi"
                                            >Lao động và xã hội</a
                                        >
                                    </li>
                                </ul>
                            </div>

                            <div class="sidebar-widget">
                                <h3 class="widget-title">Thống kê</h3>
                                <div class="stats-widget">
                                    <div class="stat-item">
                                        <span
                                            class="stat-number"
                                            id="total-views"
                                            >0</span
                                        >
                                        <span class="stat-label">Lượt xem</span>
                                    </div>
                                    <div class="stat-item">
                                        <span
                                            class="stat-number"
                                            id="total-posts"
                                            >0</span
                                        >
                                        <span class="stat-label">Bài viết</span>
                                    </div>
                                </div>
                            </div>

                            <div class="sidebar-widget cta-widget">
                                <h3 class="widget-title">Đăng ký nhận tin</h3>
                                <p>
                                    Nhận thông báo về những bài viết mới và hữu
                                    ích nhất.
                                </p>
                                <a href="/dang-ky" class="cta-button"
                                    >Đăng ký ngay</a
                                >
                            </div>
                        </aside>
                    </div>
                </div>
            </section>
        </main>

        <%- include("../partials/footer.ejs") %>

        <script src="../js/blog-manager.js"></script>
        <script src="../js/category-manager.js"></script>
        <script>
            // Khởi tạo trang category
            document.addEventListener("DOMContentLoaded", function () {
                const categoryManager = new CategoryManager(
                    "bai-viet-xem-nhieu"
                );
                categoryManager.init();

                // Cập nhật thống kê
                setTimeout(() => {
                    const stats = categoryManager.getStats();
                    document.getElementById("total-views").textContent =
                        stats.totalViews.toLocaleString();
                    document.getElementById("total-posts").textContent =
                        stats.totalPosts;
                }, 1000);
            });
        </script>

        <style>
            .stats-widget {
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 1rem;
                margin-top: 1rem;
            }

            .stat-item {
                text-align: center;
                padding: 1rem;
                background: #f8f9fa;
                border-radius: 8px;
            }

            .stat-number {
                display: block;
                font-size: 1.5rem;
                font-weight: 700;
                color: #667eea;
                margin-bottom: 0.25rem;
            }

            .stat-label {
                font-size: 0.8rem;
                color: #6c757d;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
        </style>
    </body>
</html>
